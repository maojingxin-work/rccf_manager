<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>排行榜</title>
  <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1">
  <link rel="stylesheet" href="css/normalize.css">
  <link rel="stylesheet" href="css/basic.css">
  <link rel="stylesheet" href="css/font-awesome.css">

  <style>
    html,
    body {
      overflow: auto;
    }

    canvas {
      display: block;
      width: 100%;
      min-width: 375px;
      max-width: 500px;
      margin: 0 auto;
      background-color: #fff;
      border-bottom: 0.266rem solid #f5f5f5;
    }
    td img {
      width: 0.5rem;
      vertical-align: bottom;
      margin-right: 0.1rem;
    }

    .container {
      background-color: #fff;

      padding: 0.4rem;
    }
    .a-table td,
    .a-table {
      border: none;
    }
    .a-table caption {
      margin-bottom: 0.266rem;
    }
    .a-table tr {
      margin-bottom: 0.2rem;
    }
  </style>
</head>
<body>

<!--部门业绩排行-->
<canvas id="depart" height="128px">

</canvas>

<!--小组业绩排行-->
<canvas id="group" height="260px">

</canvas>

<!--业务员业绩排行榜-->
<div class="container">
  <table class="a-table">
    <caption>员工业绩排行</caption>
    <tbody>
      <tr>
        <td><img src="img/first.png"></td>
        <td>张三</td>
        <td>金融一部</td>
        <td>刘彩芳组</td>
        <td>
          <img src="img/money.png">42300
        </td>
      </tr>
      <tr>
        <td><img src="img/second.png"></td>
        <td>张三</td>
        <td>金融一部</td>
        <td>刘彩芳组</td>
        <td>
          <img src="img/money.png">42300
        </td>
      </tr>
      <tr>
        <td><img src="img/third.png"></td>
        <td>张三</td>
        <td>金融一部</td>
        <td>刘彩芳组</td>
        <td>
          <img src="img/money.png">42300
        </td>
      </tr>
      <tr>
        <td>4</td>
        <td>张三</td>
        <td>金融一部</td>
        <td>刘彩芳组</td>
        <td>
          <img src="img/money.png">42300
        </td>
      </tr>
    </tbody>
  </table>
</div>



<script src="js/self_adaption.js"></script>
<script src="js/jquery.js"></script>

<script>
  function writeTitle(fillCtx, txt, x, y) {
    fillCtx.beginPath();
    fillCtx.fillStyle = "#333";
    fillCtx.font = "12px normal kaiti";

    fillCtx.fillText(txt, x, y);

    fillCtx.fill();
    fillCtx.closePath();
  }

  function drawRect(fillCtx, x, y, width, height, color) {
    fillCtx.beginPath();
    fillCtx.fillStyle = color;

    fillCtx.fillRect(x, y, width, height);

    fillCtx.fill();
    fillCtx.closePath();
  }
</script>

<!--绘制部门业绩排行-->
<script type="application/javascript">

  var can = document.getElementById('depart');
  var departFill = can.getContext('2d');

  var text = "部门业绩排行";
  var arr = ['金融一部', '金融二部', '金融渠道部'];
  var arr_yj = [555000, 444000, 333000];
  var arr_color = ['#d53030', '#bcc03f', '#30a8d5'];

  var maxWidth = 110;
  var arr_width = [maxWidth];

  for (var k = 1; k < arr_yj.length; k++) {
    var x = 110 * arr_yj[k] / arr_yj[0];
    arr_width.push(x);
  }
  //   绘制标题
  writeTitle(departFill, text, 110, 25);

  //  绘制部门名称 和业绩
  var first = 50;
  for (var i = 0; i < arr.length; i++) {
    writeTitle(departFill, arr[i], 20, first);
    writeTitle(departFill, arr_yj[i], 230, first);
    first += 25;
  }

  //  绘制业绩形状
  var first_rect = 40;
  for (var j = 0; j < arr.length; j++) {
    drawRect(departFill, 100, first_rect, arr_width[j], 12, arr_color[j]);
    first_rect += 25;
  }


</script>

<!--绘制小组业绩排行-->
<script type="application/javascript">

  var can = document.getElementById('group');

  var groupFill = can.getContext('2d');

  // 创建渐变色
  var gradient = groupFill.createLinearGradient(100, 40, 210, 40);
  gradient.addColorStop(0, '#9b5187');
  gradient.addColorStop(1, '#d9596d');

  var text = "小组业绩排行";
  var arr = ['刘彩芳', '郭志强', '杨金峰', '王岩', '王岩', '王岩', '王岩', '王岩'];
  var arr_yj = [20000, 18000, 17000, 16000, 15000, 14000, 13000, 12000];

  var maxWidth = 110;
  var arr_width = [maxWidth];

  for (var i = 1; i < arr_yj.length; i++) {
    var x = 110 * arr_yj[i] / arr_yj[0];
    arr_width.push(x);
  }


  //   绘制标题
  writeTitle(groupFill, text, 110, 25);

  //  绘制部门名称 和业绩
  var first = 50;
  for (var k = 0; k < arr.length; k++) {
    writeTitle(groupFill, arr[k], 20, first);
    writeTitle(groupFill, arr_yj[k], 230, first);
    first += 25;
  }

  //  绘制业绩形状
  var first_rect = 40;
  for (var j = 0; j < arr.length; j++) {
    drawRect(groupFill, 100, first_rect, arr_width[j], 12, gradient);
    first_rect += 25;
  }


</script>


</body>
</html>