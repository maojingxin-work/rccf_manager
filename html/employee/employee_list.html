<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>员工列表</title>

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" type="image/png" href="../../i/logo.png">
    <link rel="stylesheet" href="../../css/amazeui.min.css"/>
    <link rel="stylesheet" href="../../css/admin.css"/>
    <link rel="stylesheet" href="../../css/amazeui.page.css"/>
    <link rel="stylesheet" href="../../css/app.css">
    <link rel="stylesheet" href="../../css/style.css">
    <script src="../../js/jquery.min.js"></script>
</head>
<body>
<div class="am-g">
    <!-- 内容区域 -->
    <div class="tpl-content-wrapper">
        <div class="row-content am-cf">
            <div class="row">
                <div class="am-u-sm-12 am-u-md-12 am-u-lg-12">
                    <div class="widget am-cf">
                        <!--<div class="widget-head am-cf">-->
                        <!--<div class="widget-title  am-cf">文章列表</div>-->
                        <!--</div>-->
                        <div class="widget-body  am-fr">
                            <!--搜索栏-->
                            <div class="am-u-sm-12 am-u-md-6 am-u-lg-6">
                                <div class="am-form-group">
                                    <div class="am-btn-toolbar">
                                        <div class="am-btn-group am-btn-group-xs">
                                            <button type="button" class="am-btn am-btn-default am-btn-success"><span
                                                    class="am-icon-plus"></span> 新增
                                            </button>
                                            <button type="button" class="am-btn am-btn-default am-btn-secondary"><span
                                                    class="am-icon-save"></span> 保存
                                            </button>
                                            <button type="button" class="am-btn am-btn-default am-btn-warning"><span
                                                    class="am-icon-archive"></span> 审核
                                            </button>
                                            <button type="button" class="am-btn am-btn-default am-btn-danger"><span
                                                    class="am-icon-trash-o"></span> 删除
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="am-u-sm-12 am-u-md-6 am-u-lg-3">
                                <div class="am-form-group tpl-table-list-select">
                                    <select data-am-selected="{btnSize: 'sm'}">
                                        <option value="option1">所有类别</option>
                                        <option value="option2">IT业界</option>
                                        <option value="option3">数码产品</option>
                                        <option value="option3">笔记本电脑</option>
                                        <option value="option3">平板电脑</option>
                                        <option value="option3">只能手机</option>
                                        <option value="option3">超极本</option>
                                    </select>
                                </div>
                            </div>
                            <div class="am-u-sm-12 am-u-md-12 am-u-lg-3">
                                <div class="am-input-group am-input-group-sm tpl-form-border-form cl-p">
                                    <input type="text" class="am-form-field ">
                                    <span class="am-input-group-btn">
                                        <button class="am-btn  am-btn-default am-btn-success tpl-table-list-field am-icon-search"
                                                type="button">
                                        </button>
                                      </span>
                                </div>
                            </div>
                            <div class="am-u-sm-12 am-u-md-12 am-u-lg-3">
                                <div class="am-input-group am-input-group-sm tpl-form-border-form cl-p">
                                    <input type="text" class="am-form-field ">
                                    <span class="am-input-group-btn">
                                        <button class="am-btn  am-btn-default am-btn-success tpl-table-list-field " id="print"
                                                type="button">
                                            打印本页表格
                                        </button>
                                      </span>
                                </div>
                            </div>
                            <!--表格区域-->
                            <div class="am-u-sm-12" id="print_area">
                                <table width="100%"
                                       class="am-table am-text-nowrap am-table-compact  am-table-striped tpl-table-black ">
                                    <thead>
                                    <tr>
                                        <th>员工编号</th>
                                        <th>员工姓名</th>
                                        <th>性别</th>
                                        <th>联系方式</th>
                                        <th>所属部门</th>
                                        <th>职务</th>
                                        <th>副总监</th>
                                        <th>总监</th>
                                        <th>操作</th>
                                    </tr>
                                    </thead>
                                    <tbody id="employee_list">
                                    <tr>
                                        <td>10001</td>
                                        <td>张三</td>
                                        <td>男</td>
                                        <td>13878982222</td>
                                        <td>金融一部</td>
                                        <td>财务顾问</td>
                                        <td>李四</td>
                                        <td>王五</td>
                                        <td>
                                            <a class="am-btn am-btn-default am-btn-xs am-text-secondary"><span
                                                    class="am-icon-pencil-square-o"></span> 详情
                                            </a>
                                            <a href="" class="am-btn am-btn-default am-btn-xs"><span
                                                    class="am-icon-copy"></span> 编辑
                                            </a>
                                            <a class="am-btn am-btn-default am-btn-xs am-text-danger">
                                                <span class="am-icon-trash-o"></span> 删除
                                            </a>
                                        </td>
                                    </tr>

                                    </tbody>
                                </table>
                            </div>
                            <!--分页按钮-->
                            <div class="am-u-lg-12 am-cf">

                                <div class="am-fr" id="page">

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../../js/amazeui.min.js"></script>
<script src="../../js/amazeui.page.js"></script>
<script src="../../js/app.js"></script>

<script>

    var XHR = null
    if(window.XMLHttpRequest){
        XHR = new XMLHttpRequest();
    }else if(window.ActiveXObject){
        XHR = new ActiveXObject('Microsoft.XMLHTTP');
    }else{
        XHR = null;
    }

    if(XHR){

        XHR.open('GET','http://weixin.rccfkg.com/employee/employees',false,null,null);


        XHR.onreadystatechange = function () {
            // readyState值说明
            // 0,初始化,XHR对象已经创建,还未执行open
            // 1,载入,已经调用open方法,但是还没发送请求
            // 2,载入完成,请求已经发送完成
            // 3,交互,可以接收到部分数据

            // status值说明
            // 200:成功
            // 404:没有发现文件、查询或URl
            // 500:服务器产生内部错误
            if (XHR.readyState === 4 && XHR.status === 200) {
                // 这里可以对返回的内容做处理
                // 一般会返回JSON或XML数据格式
                console.log(XHR.responseText);
                // 主动释放,JS本身也会回收的
                XHR = null;
            }
        };
        XHR.send();
    }


//    $(function () {
//
//        function employeeList(data) {
//            return data;
//        }
//
//        var pages  ;
//
//        var jsonStr = {};
//        jsonStr.currentPage = 0;
//
//
//        var str = '';
//        $.ajax({
//            url: 'http://weixin.rccfkg.com/employee/employees',
//            data: jsonStr,
//            dataType: 'jsonp',
//            jsonCallback: 'employeeList',
//            success: function (result) {
//                if (result.code) {
//                    var employees = JSON.parse(result.data);
//
//                    pages = employees.length;
//
//
//                    for (var i = 0; i < employees.length; i++) {
//
//                        var employee = employees[i];
//
//                        str += '<tr>\n' +
//                            '    <td>'+employee.code+'</td>\n' +
//                            '    <td>'+employee.name+'</td>\n' +
//                            '    <td>'+employee.sex+'</td>\n' +
//                            '    <td>'+employee.phone+'</td>\n' +
//                            '    <td>'+employee.department+'</td>\n' +
//                            '    <td>'+employee.duties+'</td>\n' +
//                            '    <td>'+employee.directorName+'</td>\n' +
//                            '    <td>'+employee.duptyDirectorName+'</td>\n' +
//                            '    <td>\n' +
//                            '    <a class="am-btn am-btn-default am-btn-xs am-text-secondary"><span\n' +
//                            '        class="am-icon-pencil-square-o"></span> 详情\n' +
//                            '    </a>\n' +
//                            '    <a href="employee_detail.html" class="am-btn am-btn-default am-btn-xs"><span\n' +
//                            '         class="am-icon-copy"></span> 编辑\n' +
//                            '    </a>\n' +
//                            '    <a class="am-btn am-btn-default am-btn-xs am-text-danger">\n' +
//                            '          <span class="am-icon-trash-o"></span> 删除\n' +
//                            '    </a>\n' +
//                            '    </td>\n' +
//                            '</tr>';
//
//                    }
//                }
//
//            },
//            error: function (result) {
//                console.log(result);
//                console.log(result.errormsg);
//
//            }
//
//        });
//
//        $("#employee_list").html(str);
//        function theData(jsonStr) {
//
//            var str = '';
//            $.ajax({
//                url: 'http://weixin.rccfkg.com/employee/employees',
//                data: jsonStr,
//                dataType: 'jsonp',
//                jsonCallback: 'employeeList',
//                success: function (result) {
//                    if (result.code) {
//                        var employees = JSON.parse(result);
//
//                        for (var i = 0; i < employees.length; i++) {
//
//                            var employee = employees[i];
//
//                            str += '<tr>\n' +
//                                '    <td>'+employee.code+'</td>\n' +
//                                '    <td>'+employee.name+'</td>\n' +
//                                '    <td>'+employee.sex+'</td>\n' +
//                                '    <td>'+employee.phone+'</td>\n' +
//                                '    <td>'+employee.department+'</td>\n' +
//                                '    <td>'+employee.duties+'</td>\n' +
//                                '    <td>'+employee.directorName+'</td>\n' +
//                                '    <td>'+employee.duptyDirectorName+'</td>\n' +
//                                '    <td>\n' +
//                                '    <a class="am-btn am-btn-default am-btn-xs am-text-secondary"><span\n' +
//                                '        class="am-icon-pencil-square-o"></span> 详情\n' +
//                                '    </a>\n' +
//                                '    <a href="employee_detail.html" class="am-btn am-btn-default am-btn-xs"><span\n' +
//                                '         class="am-icon-copy"></span> 编辑\n' +
//                                '    </a>\n' +
//                                '    <a class="am-btn am-btn-default am-btn-xs am-text-danger">\n' +
//                                '          <span class="am-icon-trash-o"></span> 删除\n' +
//                                '    </a>\n' +
//                                '    </td>\n' +
//                                '</tr>';
//
//                        }
//                    }
//
//                },
//                error: function (result) {
//                    console.log(result);
//                    console.log(result.errormsg);
//
//                }
//
//            });
//            return str;
//        }
//
//
//        //返回的是一个page示例，拥有实例方法
////        var $page = $("#page").page({
////            pages: pages,
////            curr: 1,
////            theme: 'default',
////            groups: 3,
////            prev: '<',
////            next: '>',
////            first: "首页",
////            last: "尾页",
////            before: function (context, next) {
////                console.log('开始加载...');
////                context.time = (new Date()).getTime();
////                next();
////            },
////            render: function (context, $element, index) {
////                //逻辑处理
////                if (index == 'last') {
////                    $element.find('a').html('最后一页');
////                    return $element;
////                }
////                if (index == 'first') {
////                    $element.find('a').html('第一页');
////                    return $element;
////                }
////                return false;
////            },
////            after: function (context, next) {
////                var time = (new Date()).getTime();
////                console.log('分页组件加载完毕，耗时：' + (time - context.time) + 'ms');
////                next();
////            },
////            /*
////             * 触发分页后的回调，如果首次加载时后端已处理好分页数据则需要在after中判断终止或在jump中判断first是否为假
////             */
////            jump: function (context, first) {
////                jsonStr.currentPage++;
////                $("#employee_list").html(theData(jsonStr));
////            }
////        });
//    });



</script>

</body>
</html>